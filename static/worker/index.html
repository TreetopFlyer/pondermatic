<!doctype html>
<html>
    <head>
        <script src="http://treetopflyer.github.io/vcore/lib.js"></script>
        <script src="http://treetopflyer.github.io/NN/lib.js"></script>
    </head>
    <body>
    </body>    
    <script>
        var ts1, nn1;
        ts1 = NN.TrainingSet.Create();
        NN.TrainingSet.AddCloud(ts1, [1, 0, 0], M.Box([[0, 0], [0.4, 1.0]], 10));
        NN.TrainingSet.AddCloud(ts1, [1, 0, 0], M.Box([[0, 1], [1.5, 1.4]], 10));
        NN.TrainingSet.AddCloud(ts1, [1, 0, 0], M.Box([[1.5, 0], [1.7, 0.7]], 10));
        NN.TrainingSet.AddCloud(ts1, [0, 1, 0], M.Box([[0.8, 0], [1.0, 0.7]], 10));
        NN.TrainingSet.AddCloud(ts1, [0, 1, 0], M.Box([[0, -0.3], [1.0, -0.1]], 10));
        NN.TrainingSet.AddCloud(ts1, [0, 1, 0], M.Box([[0, 1.5], [1.0, 1.8]], 10));
        nn1 = NN.Network.Create(2, 500, 50, 3);
        nn1.LearningRate = 0.1;
    </script>
    <script>
var worker = new Worker('worker.js');
worker.addEventListener('message', function(e) {
  switch(e.type){
      case "progress":
        console.log(e.iterations);
        break;
      case "done":
        console.log(e.network);
        break;
  }
  console.log(e.data);
}, false);
worker.postMessage({network:nn1, training:ts1, iterations:1000});
    </script>
</html>